<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Healthcare Claim Prediction</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: #f8f9fa;
    }
    .center-container {
      background: #fff;
      padding: 32px 40px;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }
    form label, form input {
      display: block;
      width: 100%;
      margin-bottom: 10px;
    }
    h2 {
      text-align: center;
      margin-bottom: 24px;
    }
  </style>
</head>
<body>
  <div class="center-container">
    <h2>Healthcare Claim Prediction</h2>
    <form id="claimForm">
      <label for="claimAmount">Claim Amount:</label>
      <input type="number" id="claimAmount" name="claimAmount">

      <label for="patientAge">Patient Age:</label>
      <input type="number" id="patientAge" name="patientAge">

      <label for="diagnosisCode">Diagnosis Code:</label>
      <input type="text" id="diagnosisCode" name="diagnosisCode">

      <label for="healthcareProvider">Healthcare Provider:</label>
      <input type="text" id="healthcareProvider" name="healthcareProvider">

      <label for="providerSpecialty">Provider Specialty:</label>
      <input type="text" id="providerSpecialty" name="providerSpecialty">

      <label for="procedureCode">Procedure Code:</label>
      <input type="text" id="procedureCode" name="procedureCode">

      <label for="numProcedures">Number of Procedures:</label>
      <input type="number" id="numProcedures" name="numProcedures">

      <label for="hospital">Hospital:</label>
      <input type="text" id="hospital" name="hospital">

      <div style="text-align:center;">
        <input type="submit" value="Submit">
      </div>
    </form>
    <div id="result" style="margin-top:20px; text-align:center; font-weight:bold;"></div>
  </div>
  <script>
    document.getElementById('claimForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const form = e.target;
      const data = {
        claimAmount: form.claimAmount.value,
        patientAge: form.patientAge.value,
        diagnosisCode: form.diagnosisCode.value,
        healthcareProvider: form.healthcareProvider.value,
        providerSpecialty: form.providerSpecialty.value,
        procedureCode: form.procedureCode.value,
        numProcedures: form.numProcedures.value,
        hospital: form.hospital.value
      };
      try {
        const response = await fetch('http://localhost:5000/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        const result = await response.json();
        document.getElementById('result').textContent =
          'Approval Likelihood: ' + (result.approval_likelihood * 100).toFixed(1) + '%';
      } catch (err) {
        document.getElementById('result').textContent = 'Error: Unable to get prediction.';
      }
    });
  </script>
</body>
</html>